!function(e){var t={};function n(l){if(t[l])return t[l].exports;var r=t[l]={i:l,l:!1,exports:{}};return e[l].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(l,r,function(t){return e[t]}.bind(null,r));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var l=(e,t)=>({name:e,token:t});var r=(()=>{let e=["","","","","","","","",""];const t=document.querySelector("#instructions");return{displayBoard:()=>{const e=document.getElementById("game-board"),t=document.createElement("div");t.id="player-board",t.classList.toggle("board-wrapper");for(let e=0;e<=8;e+=1){const n=document.createElement("div");n.id=""+e,n.classList.toggle("token-wrapper"),n.setAttribute("data-text","+"),t.append(n)}e.append(t)},deleteBoard:()=>{const e=document.getElementById("player-board");null!=e&&e.parentNode.removeChild(e)},displayPlayers:(e,t)=>{const n=document.getElementById("game-board"),l=document.createElement("div");l.id="player-1",l.classList.toggle("player-card"),l.innerHTML="<div>Player 1</div>",l.innerHTML+=`<h3>${e.name}</h3>`,l.innerHTML+=`<span>${e.token}</span>`;const r=document.createElement("div");r.id="player-2",r.classList.toggle("player-card"),r.innerHTML="<div>Player 2</div>",r.innerHTML+=`<h3>${t.name}</h3>`,r.innerHTML+=`<span>${t.token}</span>`,n.appendChild(l),n.appendChild(r)},deletePlayers:()=>{const e=document.getElementById("player-1"),t=document.getElementById("player-2");null!=e&&null!=t&&(e.parentNode.removeChild(e),t.parentNode.removeChild(t))},setMessage:(e,n)=>{t.innerHTML=e,t.classList.toggle(n)},getPlayerSymbol:e=>{let t=prompt(`Choose your token from the following options: ${e.join(" ")}.`,"").toLowerCase();for(;!e.includes(t);)t=prompt(`Please select a valid option. Choose from: ${e.join(" ")}.`,"");return null!=t&&alert(`Cool! ${t}! Your token will be ${t}`),t},getPlayerName:()=>{let e=prompt("Please enter your name","");for(;""===e;)e=prompt("Name cannot be empty, please provide one","");return null!==e&&alert(`Hello ${e}! Welcome to your tic-tac-toe game`),e},updateMovesArray:(t,n)=>{e[t]=n},getMovesArray:()=>e,disableCells:()=>{for(let e=0;e<=8;e+=1){document.getElementById(""+e).style.pointerEvents="none"}},togglePlayerClass:(e,t,n)=>{e===t?n.classList.toggle("player-1-cell"):n.classList.toggle("player-2-cell")},toggleStartElements:()=>{const e=document.getElementById("start-screen"),t=document.getElementById("new-game-btn"),n=document.getElementById("reset-btn");n.classList.toggle("hidden"),e.className+=" float-game-title",t.className+=" float-new-game-btn",n.className+=" float-new-game-btn"},resetMovesArray:()=>{e=["","","","","","","","",""]}}})();var o=(()=>{let e,t,n,o,a=["x","o","#","$","@","!"];const s=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],i=(e,t)=>{const n=t.indexOf(e);return t.splice(n,1),t},d=(e,t,n)=>{let l=!1;return e.forEach(e=>{e.every(e=>t[e]===n)&&(l=!0)}),l},c=()=>{const l=r.getMovesArray();if(d(s,l,e.token)&&(t=e),!((t,n)=>n?(r.setMessage(`We have a winner! Congratulations ${e.name}.`,"winner"),r.disableCells(),!0):!!t.every(e=>""!==e)&&(r.setMessage("We have a tie! Start a new game.","information"),r.disableCells(),!0))(l,t)){e=e===n?o:n;let t=`Hello ${e.name}, this is your turn.<br>`;t+="<span>Please, click on the cell you want to play.</span>",r.setMessage(t,"information")}},u=t=>{const l=document.getElementById(""+t);""===l.innerHTML?(l.innerHTML=e.token,l.classList.toggle("selected-cell"),r.togglePlayerClass(e,n,l),r.updateMovesArray(t,e.token),c()):alert("This option has been taken. Please select an empty option.")},m=()=>{for(let e=0;e<=8;e+=1)document.getElementById(""+e).onclick=()=>{u(e)}};return{start:()=>{r.deleteBoard(),r.deletePlayers(),r.resetMovesArray(),n=null,o=null,a=["x","o","#","$","@","!"],t=null,e=null,r.toggleStartElements(),n=l(r.getPlayerName(),r.getPlayerSymbol(a)),a=i(n.token,a),o=l(r.getPlayerName(),r.getPlayerSymbol(a)),e=n;let s=`Hello ${e.name}, this is your turn.<br>`;s+="<span>Please, click on the cell you want to play.</span>",r.setMessage(s,"information"),r.displayBoard(),m(),r.displayPlayers(n,o)},resetGame:()=>{r.deleteBoard(),r.resetMovesArray(),t=null,e=n;let l=`Hello ${e.name}, this is your turn.<br>`;l+="<span>Please, click on the cell you want to play.</span>",r.setMessage(l,"information"),r.displayBoard(),m()},updateTokens:i,checkPattern:d,playerInput:u}})();window.newGame=()=>{o.start()},window.reset=()=>{o.resetGame()}}]);